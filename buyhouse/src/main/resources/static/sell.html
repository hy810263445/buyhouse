<!doctype html>
<html lang="en">

<head>
    <title>buyhouse</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- vue -->
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <!-- axios -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />
    <script src="http://i.gtimg.cn/qzone/biz/gdt/lib/jquery/jquery-2.1.4.js?max_age=31536000"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.js"></script>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body>
    <div class="container-fluid px-0" id="app">
        <nav class="navbar navbar-expand-lg navbar-light bg-light " aria-label="breadcrumb">

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="home.html">首页 <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item ml-3 active">
                        <a class="nav-link" href="sell.html">售房</a>
                    </li>
                </ul>
                <form class="form-inline m-2 my-lg-0">
                    <h class="breadcrumb-item"><a href="Login.html">登录</a></h>
                    <h class="breadcrumb-item"><a href="Register.html">注册</a></h>

                </form>
            </div>
        </nav>
        <h2 class="card-title text-center my-5">发布出售房源</h2>
        <div class="row">
            <div class="col-lg-8 offset-lg-2">
                <div class="card">
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                <div class="row">
                                    <div class="col-lg-2 offset-lg-1">
                                        <span>小区名称</span>
                                    </div>
                                    <div class="col-lg-8">
                                        <input v-model="name" style="border-bottom: 1px solid #dbdbdb;
                                    border-top:0px;
                                    border-left:0px;
                                    border-right:0px" type="text" class="form-control" name="" id=""
                                            aria-describedby="helpId" placeholder="请输入小区名或楼盘">
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="row">
                                    <div class="col-lg-2 offset-lg-1">
                                        <span>栋阁房号</span>
                                    </div>
                                    <div class="col-lg-8">
                                        <input v-model="num" style="border-bottom: 1px solid #dbdbdb;
                                     border-top:0px;
                                     border-left:0px;
                                     border-right:0px" type="text" class="form-control" name="" id=""
                                            aria-describedby="helpId" placeholder="您的楼栋号和门牌号">
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="row">
                                    <div class="col-lg-2 offset-lg-1">
                                        <span>户型</span>
                                    </div>
                                    <div class="col-lg-8">
                                        <div class="row">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <select v-model="room" class="form-control" name="" id="">
                                                        <option value="1">1室</option>
                                                        <option value="2">2室</option>
                                                        <option value="3">3室</option>
                                                        <option value="4">4室</option>
                                                        <option value="5">5室</option>
                                                        <option value="6">6室</option>
                                                        <option value="7">7室</option>
                                                        <option value="8">8室</option>
                                                        <option value="9">9室</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <select v-model="hall" class="form-control" name="" id="">
                                                        <option value="0">0厅</option>
                                                        <option value="1">1厅</option>
                                                        <option value="2">2厅</option>
                                                        <option value="3">3厅</option>
                                                        <option value="4">4厅</option>
                                                        <option value="5">5厅</option>
                                                        <option value="6">6厅</option>
                                                        <option value="7">7厅</option>
                                                        <option value="8">8厅</option>
                                                        <option value="9">9厅</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <select v-model="guard" class="form-control" name="" id="">
                                                        <option value="0">0卫</option>
                                                        <option value="1">1卫</option>
                                                        <option value="2">2卫</option>
                                                        <option value="3">3卫</option>
                                                        <option value="4">4卫</option>
                                                        <option value="5">5卫</option>
                                                        <option value="6">6卫</option>
                                                        <option value="7">7卫</option>
                                                        <option value="8">8卫</option>
                                                        <option value="9">9卫</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="row">
                                    <div class="col-lg-2 offset-lg-1">
                                        <span>建筑面积</span>
                                    </div>
                                    <div class="col-lg-8">
                                        <div class="input-group mb-3">
                                            <input v-model="size" type="text" class="form-control" style="border-bottom: 1px solid #dbdbdb;
                                                    border-top:0px;
                                                    border-left:0px;
                                                    border-right:0px;" aria-label="Amount (to the nearest dollar)"
                                                placeholder="您房屋的建筑面积">
                                            <div class="input-group-append">
                                                <span>㎡</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="row">
                                    <div class="col-lg-2 offset-lg-1">
                                        <span>期望价格</span>
                                    </div>
                                    <div class="col-lg-8">
                                        <div class="input-group mb-3">
                                            <input v-model="price" type="text" class="form-control" style="border-bottom: 1px solid #dbdbdb;
                                            border-top:0px;
                                            border-left:0px;
                                            border-right:0px;" aria-label="Amount (to the nearest dollar)"
                                                placeholder="您期望售出的价格">
                                            <div class="input-group-append">
                                                <span>万元</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="row">
                                    <div class="col-lg-2 offset-lg-1">
                                        <span>姓名</span>
                                    </div>
                                    <div class="col-lg-8">
                                        <input v-model="sellerName" style="border-bottom: 1px solid #dbdbdb;
                                      border-top:0px;
                                      border-left:0px;
                                      border-right:0px" type="text" class="form-control" name="" id=""
                                            aria-describedby="helpId" placeholder="如何称呼您">
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="row">
                                    <div class="col-lg-2 offset-lg-1">
                                        <span>手机号</span>
                                    </div>
                                    <div class="col-lg-8">
                                        <input v-model="tel" style="border-bottom: 1px solid #dbdbdb;
                                     border-top:0px;
                                     border-left:0px;
                                     border-right:0px" type="text" class="form-control" name="" id=""
                                            aria-describedby="helpId" placeholder="您的联系方式">
                                    </div>
                                </div>
                            </li>
                        </ul>
                        <div class="row mt-5">
                            <div class="col-lg-4 m-auto">
                                <button v-on:click="sumbit()" type="button"
                                    class="btn btn-danger btn-lg btn-block">立即提交</button>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>


    </div>

    <script>
        toastr.options = {
            closeButton: true, // 是否显示关闭按钮，（提示框右上角关闭按钮）
            //debug: false, // 是否使用deBug模式
            progressBar: false, // 是否显示进度条，（设置关闭的超时时间进度条）
            positionClass: "toast-top-center", // 设置提示款显示的位置
            onclick: null, // 点击消息框自定义事件 
            showDuration: "300", // 显示动画的时间
            hideDuration: "1000", //  消失的动画时间
            timeOut: "1500", //  自动关闭超时时间 
            extendedTimeOut: "1000", //  加长展示时间
            showEasing: "swing", //  显示时的动画缓冲方式
            hideEasing: "linear", //   消失时的动画缓冲方式
            showMethod: "fadeIn", //   显示时的动画方式
            hideMethod: "fadeOut" //   消失时的动画方式
        };

        new Vue({
            el: '#app',
            data: {
                name: '',
                size: '', //建筑面积
                tel: '',
                num: '', //门牌号
                room: '1', //室
                hall: '0', //厅
                guard: '0', //卫
                sellerName: '',
                price: '',
            },
            methods: {
                sumbit: function () {
                    if (this.name == '' || this.size == '' || this.tel == '' || this
                        .num == '' || this.sellerName == '' || this.price == '') {
                        console.log(this.sellerName);

                        toastr.error('请将数据填完整');
                    } else if (!this.phone.match(/^1[3,5,7,8,9]\d{9}$/)) {
                        toastr.error('手机格式不正确');
                    } else {
                        axios.post("/add.json", {
                                name: this.name,
                                size: this.size,
                                room: this.room,
                                hall: this.hall,
                                guard: this.guard,
                                tel: this.tel,
                                num: this.num,
                                sellerName: this.sellerName,
                                price: this.price,
                            })
                            .then(res => {
                                console.log(res.data);
                                toastr.success("提交成功");
                            })
                            .catch(error => {
                                toastr.error(error.response.data.msg);
                            })
                    }
                }
            },

        })
    </script>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous">
    </script>
</body>

</html>